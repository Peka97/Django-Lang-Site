{% extends 'main/base.html' %}
{% load static %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è{% endblock  %}

{% block 'style' %}
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<!-- <link rel="stylesheet" href="{% static 'css/users_base.css' %}"> -->
	<link rel="stylesheet" href="{% static 'css/calendar.css' %}">
	<link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock  %}

{% block content %}
<div class="container page">
	<ul class="nav nav-tabs profile-nav-tabs" id="myTab" role="tablist">
		<li class="nav-item profile-nav-item" role="presentation">
		  <button class="nav-link active profile-nav-link" id="home-tab" data-bs-toggle="tab" data-bs-target="#services-tab-pane" type="button" role="tab" aria-controls="home-tab-pane" aria-selected="true">–°–µ—Ä–≤–∏—Å—ã</button>
		</li>
		<li class="nav-item profile-nav-item" role="presentation">
		  <button class="nav-link profile-nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button" role="tab" aria-controls="profile-tab-pane" aria-selected="false">–ü—Ä–æ—Ñ–∏–ª—å</button>
		</li>
		<li class="nav-item profile-nav-item" role="presentation">
		  <button class="nav-link profile-nav-link disabled-nav-item" id="disabled-tab" data-bs-toggle="tab" data-bs-target="#disabled-tab-pane" type="button" role="tab" aria-controls="disabled-tab-pane" aria-selected="false" disabled>To be continued...</button>
		</li>
	  </ul>
	  <div class="tab-content" id="myTabContent">
		<div class="tab-pane fade show active" id="services-tab-pane" role="tabpanel" aria-labelledby="services-tab" tabindex="0">
			<!-- Services -->

			<!-- Calendar -->
			<div class="row justify-content-center">
				<div class='body-calendar'>
					<div class="container">
						<div class="row justify-content-center">
							<div class="col text-center">
								<h2 class="heading-section">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h2>
								<p> üõ† –î–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤. –ù–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ üõ†</p>
							</div>
						</div>
						<div class="row">
							<div class="col-9">
								<div class="content w-100">
									<div class="calendar-container">
										<div class="calendar"> 
										<div class="year-header"> 
											<span class="left-button fa fa-chevron-left" id="prev"> </span> 
											<span class="year" id="label"></span> 
											<span class="right-button fa fa-chevron-right" id="next"> </span>
										</div> 
										<table class="months-table w-100"> 
											<tbody>
											<tr class="months-row">
												<td class="month">Jan</td> 
												<td class="month">Feb</td> 
												<td class="month">Mar</td> 
												<td class="month">Apr</td> 
												<td class="month">May</td> 
												<td class="month">Jun</td> 
												<td class="month">Jul</td>
												<td class="month">Aug</td> 
												<td class="month">Sep</td> 
												<td class="month">Oct</td>          
												<td class="month">Nov</td>
												<td class="month">Dec</td>
											</tr>
											</tbody>
										</table> 
										<table class="days-table w-100"> 
											<td class="day">Sun</td> 
											<td class="day">Mon</td> 
											<td class="day">Tue</td> 
											<td class="day">Wed</td> 
											<td class="day">Thu</td> 
											<td class="day">Fri</td> 
											<td class="day">Sat</td>
										</table>
										<div class="frame"> 
											<table class="dates-table w-100"> 
											<tbody class="tbody">  
												{{ calendar | safe }}            
											</tbody>
											</table>
										</div>
									</div>
								</div>
								<div class="events-container">
									<div name='empty-card' class="event-card empty-card hidden">
										<div class='event-name px-3'>–ó–∞–Ω—è—Ç–∏–π —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç</div>
									</div>
									{% if events %}
										{% for event in events %}
											<div name='{{ event.datetime.day }}.{{ event.datetime.month }}.{{ event.datetime.year }}' class="event-card">
												<div class="accordion accordion-flush" id="accordionFlushExample">
													<div class="accordion-item">
														<h2 class="accordion-header">
															<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse{{ event.pk }}" aria-expanded="false" aria-controls="flush-collapse{{ event.pk }}">
																<div class="event-name"> 
																	{% if event.datetime.minute < 10 %}
																		{% with prefix=0 %}
																			{{ event.datetime.hour }}:{{ prefix }}{{ event.datetime.minute}} 
																		{% endwith %}
																	{% else %}
																		{% with prefix="" %}
																			{{ event.datetime.hour }}:{{ prefix }}{{ event.datetime.minute}}
																		{% endwith %}
																	{% endif %}
																	<br>
																	<i class="bi bi-mortarboard-fill"></i>
																	{{ event.teacher.last_name }} {{ event.teacher.first_name }}
																</div>
																<div class="event-count pr-2">
																	{% if event.status == 'P' %}
																		<i class="bi bi-clock text-warning"></i> 
																	{% elif event.status == 'C' %}
																		<i class="bi bi-x-circle text-danger"></i>
																	{% else %}
																		<i class="bi bi-check-circle text-success"></i> 
																	{% endif %}

																	{% if event.is_paid %}
																		<i class="bi bi-wallet text-success"></i>

																	{% else %}
																		<i class="bi bi-wallet text-danger"></i> 
																	{% endif %}
																	
																	<br>
																	{{ event.title }}
																</div>
															</button>
														</h2>
														<div id="flush-collapse{{ event.pk }}" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
															<div class="accordion-body"> {{ event.description }} </div>
														</div>
													</div>
												</div>
											</div>
										{% endfor %}
									{% endif %}
									</div>
								</div> 
							</div>
							<div class="notifications col-3">
								<h4 class="notification-title text-center py-3">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h4>
								<div class="row row-cols-1">


									{% if exercises %}
										{% for ex in exercises  %}
											<div class="notification notification-exercise col">
												–ù–æ–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ -
												<a href={% url "exercises_words" id=ex step=1 %} class="ex_name"> Exercise {{ ex }}.</a>
											</div>
										{% endfor %}
									{% endif %}

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="tab-pane fade" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab" tabindex="0">
			<!-- User Info -->		
			<div class="row justify-content-center bg-body-secondary">
				<div class='col-lg-auto my-3'>
					<img src="http://placehold.it/400x500/2c3e50/3498db&text=User photo" class="bd-placeholder-img" width="200" height="250" alt="User photo">
				</div>
				<div class="col my-3">
					<div class=''>
						<div class='col align-self-center'>
							<h3>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
							<hr class='border-black border-2'>
							<div class='row row-cols-auto text-black'>
								<div class='col col-lg-3 align-self-center'>
									<p> –ò–º—è: </p>
								</div>
								<div class='col align-self-center'>
									<p> {{ user.first_name }} </p>
								</div>
							</div> 
							<div class='row row-cols-auto text-black align-self-center'>
								<div class='col col-lg-3'>
									<p> –§–∞–º–∏–ª–∏—è: </p>
								</div>
								<div class='col align-self-center'>
									<p> {{ user.last_name }} </p>
								</div>
							</div> 
						</div> 
					</div> 
				</div> 
				<div class="col my-3">
					<h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
					<hr class='border-black border-2'>
					<div class='row row-cols-auto text-black'>
						<div class='col align-self-center'>
							<p> –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π: </p>
						</div>
						<div class='col align-self-center'>
							<p> {{ events_count_done }} </p>
						</div>
					</div>
					<div class='row row-cols-auto text-black'>
						<div class='col col-lg-3 align-self-center'>
							<p> –ó–∞–Ω—è—Ç–∏–π –≤—Å–µ–≥–æ: </p>
						</div>
						<div class='col align-self-center'>
							<p> {{ events_count_total }} </p>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="tab-pane fade" id="disabled-tab-pane" role="tabpanel" aria-labelledby="disabled-tab" tabindex="0">To be continued...</div>
	  </div>

	{% comment %} <div class='row'>
		<div class='col'>
			<h2 class='p-1'>–ü—Ä–æ—Ñ–∏–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞</h2>
		</div>
	</div>

    <div class="row justify-content-center bg-body-secondary">
		<div class='col-lg-auto my-3'>
			<img src="http://placehold.it/400x500/2c3e50/3498db&text=User photo" class="bd-placeholder-img" width="200" height="250" alt="User photo">
		</div>
        <div class="col my-3">
			<div class=''>
				<div class='col align-self-center'>
					<h3>–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h3>
					<hr class='border-black border-2'>
					<div class='row row-cols-auto text-black'>
						<div class='col col-lg-3 align-self-center'>
							<p> –ò–º—è: </p>
						</div>
						<div class='col align-self-center'>
							<p> {{ user.first_name }} </p>
						</div>
					</div> 
					<div class='row row-cols-auto text-black align-self-center'>
						<div class='col col-lg-3'>
							<p> –§–∞–º–∏–ª–∏—è: </p>
						</div>
						<div class='col align-self-center'>
							<p> {{ user.last_name }} </p>
						</div>
					</div> 
				</div> 
			</div> 
		</div> 
        <div class="col my-3">
			<h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
			<hr class='border-black border-2'>
			<div class='row row-cols-auto text-black'>
				<div class='col align-self-center'>
					<p> –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π: </p>
				</div>
				<div class='col align-self-center'>
					<p> {{ events_count_done }} </p>
				</div>
			</div>
			<div class='row row-cols-auto text-black'>
				<div class='col col-lg-3 align-self-center'>
					<p> –ó–∞–Ω—è—Ç–∏–π –≤—Å–µ–≥–æ: </p>
				</div>
				<div class='col align-self-center'>
					<p> {{ events_count_total }} </p>
				</div>
            </div>
        </div>
	</div>
	<hr class='border-black border-3'>
	<div class='row'>
		<div class='col'>
			<h2>–°–µ—Ä–≤–∏—Å—ã</h2>
		</div>
	</div>

	<div class='row'>
		<div class='col'>
			<h2>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è</h2>
			<ul>
				{% for exercise in exercises %}
					<a href={% url "exercises_words" id=exercise step=1 %}> Exercise {{ exercise }}</a>
				{% endfor %}
			</ul>
		</div>
	</div>


	<!-- Calendar -->
	<div class="row justify-content-center">
		<div class='body-calendar'>
			<section class="ftco-section">
				<div class="container">
					<div class="row justify-content-center">
						<div class="col text-center">
							<h2 class="heading-section">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</h2>
						</div>
					</div>
					<div class="row">
						<div class="col">
							<div class="content w-100">
								<div class="calendar-container">
									<div class="calendar"> 
									<div class="year-header"> 
										<span class="left-button fa fa-chevron-left" id="prev"> </span> 
										<span class="year" id="label"></span> 
										<span class="right-button fa fa-chevron-right" id="next"> </span>
									</div> 
									<table class="months-table w-100"> 
										<tbody>
										<tr class="months-row">
											<td class="month">Jan</td> 
											<td class="month">Feb</td> 
											<td class="month">Mar</td> 
											<td class="month">Apr</td> 
											<td class="month">May</td> 
											<td class="month">Jun</td> 
											<td class="month">Jul</td>
											<td class="month">Aug</td> 
											<td class="month">Sep</td> 
											<td class="month">Oct</td>          
											<td class="month">Nov</td>
											<td class="month">Dec</td>
										</tr>
										</tbody>
									</table> 
									<table class="days-table w-100"> 
										<td class="day">Sun</td> 
										<td class="day">Mon</td> 
										<td class="day">Tue</td> 
										<td class="day">Wed</td> 
										<td class="day">Thu</td> 
										<td class="day">Fri</td> 
										<td class="day">Sat</td>
									</table>
									<div class="frame"> 
										<table class="dates-table w-100"> 
										<tbody class="tbody">  
											{{ calendar | safe }}            
										</tbody>
										</table>
									</div>
								</div>
							</div>
							<div class="events-container">
								<div name='empty-card' class="event-card empty-card hidden">
									<div class='event-name px-3'>–ó–∞–Ω—è—Ç–∏–π —Å–µ–≥–æ–¥–Ω—è –Ω–µ—Ç</div>
								</div>
								{% if events %}
									{% for event in events %}
										<div name='{{ event.datetime.day }}.{{ event.datetime.month }}.{{ event.datetime.year }}' class="event-card">
											<div class="accordion accordion-flush" id="accordionFlushExample">
												<div class="accordion-item">
													<h2 class="accordion-header">
														<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapse{{ event.pk }}" aria-expanded="false" aria-controls="flush-collapse{{ event.pk }}">
															<div class="event-name"> 
																{% if event.datetime.minute < 10 %}
																	{% with prefix=0 %}
																		{{ event.datetime.hour }}:{{ prefix }}{{ event.datetime.minute}} 
																	{% endwith %}
																{% else %}
																	{% with prefix="" %}
																		{{ event.datetime.hour }}:{{ prefix }}{{ event.datetime.minute}}
																	{% endwith %}
																{% endif %}
																<br>
																<i class="bi bi-mortarboard-fill"></i>
																{{ event.teacher.last_name }} {{ event.teacher.first_name }}
															</div>
															<div class="event-count pr-2">
																{% if event.status == 'P' %}
																	<i class="bi bi-clock text-warning"></i> 
																{% elif event.status == 'C' %}
																	<i class="bi bi-x-circle text-danger"></i>
																{% else %}
																	<i class="bi bi-check-circle text-success"></i> 
																{% endif %}

																{% if event.is_paid %}
																	<i class="bi bi-wallet text-success"></i>

																{% else %}
																	<i class="bi bi-wallet text-danger"></i> 
																{% endif %}
																
																<br>
																{{ event.title }}
															</div>
														</button>
													</h2>
													<div id="flush-collapse{{ event.pk }}" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
														<div class="accordion-body"> {{ event.description }} </div>
													</div>
												</div>
											</div>
										</div>
									{% endfor %}
								{% endif %}
								</div>
							</div> 
						</div>
					</div>
				</div>
			</section>
		</div>
    </div> {% endcomment %}
</div>
</body>
{% endblock %}

{% block 'js' %}
	<script src="{% static 'js/jquery.min.js' %}"></script>
    <script src="{% static 'js/popper.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>
	<script src="{% static 'js/main.js' %}"></script>
{% endblock  %}